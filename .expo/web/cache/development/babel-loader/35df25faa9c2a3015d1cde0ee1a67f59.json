{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport DropDown from \"../../components/dropdown/dropdown\";\nimport * as ImagePicker from 'expo-image-picker';\nimport ImagePickerExample from \"../../components/image-picker/image-picker\";\nimport CnicPick1 from \"../../components/cnic/cnic-pic1\";\nimport CnicPick2 from \"../../components/cnic/cnic-pic2\";\nimport { GlobalContext } from \"../../context/context\";\nimport { db, doc, setDoc, storage, ref, uploadBytes, getDownloadURL } from \"../../configs/firebase\";\nimport * as Location from 'expo-location';\nimport LogoKhanaSabkliye from \"../../images/LogoKhanaSabkliye.png\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { color } from 'react-native/Libraries/Components/View/ReactNativeStyleAttributes';\n\nvar MainHome = function MainHome(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(GlobalContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fatherName = _useState4[0],\n      setFatherName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cnic = _useState6[0],\n      setCnic = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dateOfBirth = _useState8[0],\n      setDateOfBirth = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      familyMembers = _useState10[0],\n      setFamilyMembers = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      monthlyIncome = _useState12[0],\n      setMonthlyIncome = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      MonthlyRation = _useState14[0],\n      setMonthlyRation = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      location = _useState16[0],\n      setLocation = _useState16[1];\n\n  var _useState17 = useState(null),\n      _useState18 = _slicedToArray(_useState17, 2),\n      errorMsg = _useState18[0],\n      setErrorMsg = _useState18[1];\n\n  var getLocation = function getLocation() {\n    var _await$Location$reque, granted, _await$Location$getCu, _await$Location$getCu2, latitude, longitude;\n\n    return _regeneratorRuntime.async(function getLocation$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n          case 3:\n            _await$Location$reque = _context.sent;\n            granted = _await$Location$reque.granted;\n\n            if (granted) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 7:\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync());\n\n          case 9:\n            _await$Location$getCu = _context.sent;\n            _await$Location$getCu2 = _await$Location$getCu.coords;\n            latitude = _await$Location$getCu2.latitude;\n            longitude = _await$Location$getCu2.longitude;\n            setLocation({\n              latitude: latitude,\n              longitude: longitude\n            });\n            dispatch({\n              type: \"LATITUDE\",\n              payload: latitude\n            });\n            dispatch({\n              type: \"LONGITUDE\",\n              payload: longitude\n            });\n            _context.next = 21;\n            break;\n\n          case 18:\n            _context.prev = 18;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 21:\n            console.log(\"hello\");\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 18]], Promise);\n  };\n\n  useEffect(function () {\n    getLocation();\n    console.log(state);\n  }, []);\n\n  var submitFormFunc = function submitFormFunc() {\n    var mathRandom, storageRef1, URL1, storageRef2, URL2, storageRef3, URL3, dataRef, detailsObj;\n    return _regeneratorRuntime.async(function submitFormFunc$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            mathRandom = Math.floor(Math.random() * 1000000000);\n            _context2.prev = 1;\n            storageRef1 = ref(storage, state.activeUser.uid + \"/\" + mathRandom);\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(uploadBytes(storageRef1, state.applicantPic));\n\n          case 5:\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(getDownloadURL(ref(storage, state.activeUser.uid + \"/\" + mathRandom)));\n\n          case 7:\n            URL1 = _context2.sent;\n            storageRef2 = ref(storage, state.activeUser.uid + \"/\" + mathRandom);\n            _context2.next = 11;\n            return _regeneratorRuntime.awrap(uploadBytes(storageRef2, state.cnicFrontPic));\n\n          case 11:\n            _context2.next = 13;\n            return _regeneratorRuntime.awrap(getDownloadURL(ref(storage, state.activeUser.uid + \"/\" + mathRandom)));\n\n          case 13:\n            URL2 = _context2.sent;\n            storageRef3 = ref(storage, state.activeUser.uid + \"/\" + mathRandom);\n            _context2.next = 17;\n            return _regeneratorRuntime.awrap(uploadBytes(storageRef3, state.cnicBackPic));\n\n          case 17:\n            _context2.next = 19;\n            return _regeneratorRuntime.awrap(getDownloadURL(ref(storage, state.activeUser.uid + \"/\" + mathRandom)));\n\n          case 19:\n            URL3 = _context2.sent;\n            dataRef = doc(db, \"publcApplicaitons\", state.activeUser.uid);\n            detailsObj = {\n              name: name,\n              fatherName: fatherName,\n              cnic: cnic,\n              dateOfBirth: dateOfBirth,\n              familyMembers: familyMembers,\n              monthlyIncome: monthlyIncome,\n              MonthlyRation: MonthlyRation,\n              URL1: URL1,\n              URL2: URL2,\n              URL3: URL3,\n              uid: state.activeUser.uid,\n              createdAt: new Date(),\n              nearestOne: state.nearestOne\n            };\n            _context2.next = 24;\n            return _regeneratorRuntime.awrap(setDoc(dataRef, detailsObj));\n\n          case 24:\n            navigation.navigate('Approved');\n            _context2.next = 30;\n            break;\n\n          case 27:\n            _context2.prev = 27;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log(_context2.t0);\n\n          case 30:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 27]], Promise);\n  };\n\n  function setLocationFunc() {\n    navigation.navigate('location');\n  }\n\n  return React.createElement(ScrollView, null, React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: styles.view3\n  }, React.createElement(Image, {\n    source: LogoKhanaSabkliye,\n    style: styles.img\n  })), React.createElement(View, {\n    style: styles.view1\n  }, React.createElement(TextInput, {\n    onChangeText: function onChangeText(e) {\n      setName(e);\n    },\n    style: styles.input,\n    placeholder: \"Enter name\",\n    value: name\n  })), React.createElement(View, {\n    style: styles.view2\n  }, React.createElement(TextInput, {\n    value: fatherName,\n    onChangeText: function onChangeText(e) {\n      setFatherName(e);\n    },\n    style: styles.input,\n    placeholder: \"Enter father name\"\n  })), React.createElement(View, {\n    style: styles.view4\n  }, React.createElement(TextInput, {\n    value: cnic,\n    onChangeText: function onChangeText(e) {\n      setCnic(e);\n    },\n    style: styles.input,\n    placeholder: \"Enter cnic number\"\n  })), React.createElement(View, {\n    style: styles.view2\n  }, React.createElement(TextInput, {\n    value: dateOfBirth,\n    onChangeText: function onChangeText(e) {\n      setDateOfBirth(e);\n    },\n    style: styles.input,\n    placeholder: \"Enter Date of Birth\"\n  })), React.createElement(View, {\n    style: styles.view2\n  }, React.createElement(TextInput, {\n    value: familyMembers,\n    onChangeText: function onChangeText(e) {\n      setFamilyMembers(e);\n    },\n    style: styles.input,\n    placeholder: \"Enter family members\"\n  })), React.createElement(View, {\n    style: styles.view2\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    value: monthlyIncome,\n    onChangeText: function onChangeText(e) {\n      setMonthlyIncome(e);\n    },\n    placeholder: \"Enter Monthy Income\"\n  })), React.createElement(View, {\n    style: styles.view2\n  }, React.createElement(TextInput, {\n    value: MonthlyRation,\n    onChangeText: function onChangeText(e) {\n      setMonthlyRation(e);\n    },\n    style: styles.input,\n    placeholder: \"Enter Monthy ration\"\n  })), React.createElement(View, {\n    style: styles.comp1\n  }, React.createElement(ImagePickerExample, null)), React.createElement(View, {\n    style: styles.comp2\n  }, React.createElement(CnicPick1, null)), React.createElement(View, {\n    style: styles.comp3\n  }, React.createElement(CnicPick2, null)), React.createElement(View, {\n    style: styles.parentBtn\n  }, React.createElement(View, {\n    style: styles.btnDiv1\n  }, React.createElement(TouchableOpacity, {\n    style: styles.touchBtn,\n    onPress: setLocationFunc\n  }, React.createElement(Text, {\n    style: {\n      color: 'white'\n    }\n  }, \"Set Location\"))), React.createElement(View, {\n    style: styles.btnDiv2\n  }, React.createElement(TouchableOpacity, {\n    style: styles.touchBtn,\n    onPress: submitFormFunc\n  }, React.createElement(Text, {\n    style: {\n      color: 'white'\n    }\n  }, \"Submit\"))))));\n};\n\nvar styles = StyleSheet.create({\n  view3: {\n    backgroundColor: '#ffffff',\n    paddingTop: 10,\n    paddingLeft: 62.2,\n    paddingRight: 62.2\n  },\n  view2: {\n    backgroundColor: '#ffffff'\n  },\n  view1: {\n    backgroundColor: '#ffffff'\n  },\n  view4: {\n    backgroundColor: '#ffffff'\n  },\n  input: {\n    width: 250,\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    borderColor: 'rgb(195, 195, 195)',\n    padding: 10,\n    borderRadius: 5\n  },\n  img: {\n    width: 150,\n    height: 100\n  },\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  btnDiv1: {\n    padding: 10,\n    position: 'relative',\n    bottom: 50,\n    left: 90,\n    backgroundColor: 'green'\n  },\n  btnDiv2: {\n    padding: 10,\n    position: 'relative',\n    bottom: 30,\n    left: 90,\n    backgroundColor: 'green'\n  },\n  comp1: {\n    position: 'relative',\n    right: 80,\n    top: 115\n  },\n  comp2: {\n    position: 'relative',\n    right: 91,\n    top: 40\n  },\n  comp3: {\n    position: 'relative',\n    right: 95,\n    bottom: 35\n  },\n  touchBtn: {\n    color: 'white'\n  }\n});\nexport default MainHome;","map":{"version":3,"sources":["D:/SeylaniWelfareTrust_201221/ReactNativeDrawer-main/ReactNativeDrawer-main/src/Screens/home/home.jsx"],"names":["React","useContext","useState","useEffect","DropDown","ImagePicker","ImagePickerExample","CnicPick1","CnicPick2","GlobalContext","db","doc","setDoc","storage","ref","uploadBytes","getDownloadURL","Location","LogoKhanaSabkliye","Ionicons","color","MainHome","navigation","state","dispatch","name","setName","fatherName","setFatherName","cnic","setCnic","dateOfBirth","setDateOfBirth","familyMembers","setFamilyMembers","monthlyIncome","setMonthlyIncome","MonthlyRation","setMonthlyRation","location","setLocation","errorMsg","setErrorMsg","getLocation","requestForegroundPermissionsAsync","granted","getCurrentPositionAsync","coords","latitude","longitude","type","payload","console","log","submitFormFunc","mathRandom","Math","floor","random","storageRef1","activeUser","uid","applicantPic","URL1","storageRef2","cnicFrontPic","URL2","storageRef3","cnicBackPic","URL3","dataRef","detailsObj","createdAt","Date","nearestOne","navigate","setLocationFunc","styles","container","view3","img","view1","e","input","view2","view4","comp1","comp2","comp3","parentBtn","btnDiv1","touchBtn","btnDiv2","StyleSheet","create","backgroundColor","paddingTop","paddingLeft","paddingRight","width","height","margin","borderWidth","borderColor","padding","borderRadius","flex","justifyContent","alignItems","position","bottom","left","right","top"],"mappings":"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","sourcesContent":["import React, { useContext, useState ,useEffect } from 'react';\nimport { View , Text , TextInput ,StyleSheet ,ScrollView ,Button  ,Image, TouchableOpacity , Dimensions } from 'react-native';\nimport DropDown from '../../components/dropdown/dropdown';\nimport * as ImagePicker from 'expo-image-picker';\nimport ImagePickerExample from '../../components/image-picker/image-picker';\nimport CnicPick1 from '../../components/cnic/cnic-pic1';\nimport CnicPick2 from '../../components/cnic/cnic-pic2';\nimport { GlobalContext } from '../../context/context';\nimport { db , doc , setDoc, storage ,ref , uploadBytes ,getDownloadURL  } from '../../configs/firebase';\nimport * as Location from 'expo-location';\nimport LogoKhanaSabkliye from '../../images/LogoKhanaSabkliye.png';\nimport { Ionicons } from '@expo/vector-icons';\nimport { color } from 'react-native/Libraries/Components/View/ReactNativeStyleAttributes';\n\n\nconst MainHome = ({navigation}) => {\n    let {state , dispatch} = useContext(GlobalContext)\n    let [name , setName] = useState('');\n    let [fatherName , setFatherName] = useState('');\n    let [cnic , setCnic] = useState('');\n    let [dateOfBirth , setDateOfBirth] = useState('');\n    let [familyMembers , setFamilyMembers] = useState('');\n    let [monthlyIncome , setMonthlyIncome] = useState('');\n    let [MonthlyRation , setMonthlyRation] = useState('');\n\n    const [location, setLocation] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  const getLocation = async () => {\n    try {\n      const { granted } = await Location.requestForegroundPermissionsAsync();\n      if (!granted) return;\n      const {\n        coords: { latitude, longitude },\n      } = await Location.getCurrentPositionAsync();\n      setLocation({ latitude, longitude });\n        dispatch({type : \"LATITUDE\" , payload : latitude})\n        dispatch({type : \"LONGITUDE\" , payload : longitude})\n    } catch (error) {\n      console.log(error);\n    }\n    console.log(\"hello\")\n  };\n\n  useEffect(() => {\n    getLocation();\n    console.log(state)\n  }, []);\n\n\n\n\n    const submitFormFunc = async () =>{\n       let mathRandom = Math.floor(Math.random() * 1000000000);\n        try {\n            let storageRef1 = ref(storage,`${state.activeUser.uid}/${mathRandom}`)\n            await uploadBytes(storageRef1,state.applicantPic)\n            let URL1 =  await getDownloadURL(ref(storage, `${state.activeUser.uid}/${mathRandom}`))\n\n            let storageRef2 = ref(storage,`${state.activeUser.uid}/${mathRandom}`)\n            await uploadBytes(storageRef2,state.cnicFrontPic)\n            let URL2 =  await getDownloadURL(ref(storage, `${state.activeUser.uid}/${mathRandom}`))\n\n            let storageRef3 = ref(storage,`${state.activeUser.uid}/${mathRandom}`)\n            await uploadBytes(storageRef3,state.cnicBackPic)\n            let URL3 =  await getDownloadURL(ref(storage, `${state.activeUser.uid}/${mathRandom}`))\n            let dataRef = doc(db , \"publcApplicaitons\" , state.activeUser.uid);\n            \n            let detailsObj = {\n                name , \n                fatherName,\n                cnic,\n                dateOfBirth,\n                familyMembers,\n                monthlyIncome, \n                MonthlyRation,\n                URL1,\n                URL2,\n                URL3,\n                uid : state.activeUser.uid,\n                createdAt : new Date(),\n                nearestOne : state.nearestOne\n            }\n            await setDoc(dataRef , detailsObj)\n            navigation.navigate('Approved')\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    function setLocationFunc(){\n        navigation.navigate('location')\n    }\n\n\n    return (\n        <ScrollView>\n                    <View style={styles.container}>\n        <View style={styles.view3}>\n            <Image source={LogoKhanaSabkliye} style={styles.img} />\n        </View>\n        <View style={styles.view1}>\n            <TextInput onChangeText={(e)=>{setName(e)}} style={styles.input} placeholder=\"Enter name\" value={name} />\n        </View>\n        <View style={styles.view2}>\n            <TextInput value={fatherName} onChangeText={(e)=>{setFatherName(e)}} style={styles.input} placeholder=\"Enter father name\" />\n        </View>\n        <View style={styles.view4}>\n            <TextInput value={cnic} onChangeText={(e)=>{setCnic(e)}} style={styles.input} placeholder=\"Enter cnic number\" />\n        </View>\n        <View style={styles.view2}>\n            <TextInput value={dateOfBirth} onChangeText={(e)=>{setDateOfBirth(e)}} style={styles.input} placeholder=\"Enter Date of Birth\" />\n        </View>\n            <View style={styles.view2}>\n                <TextInput value={familyMembers} onChangeText={(e)=>{setFamilyMembers(e)}} style={styles.input} placeholder=\"Enter family members\" />\n            </View> \n            <View style={styles.view2}>\n                <TextInput style={styles.input} value={monthlyIncome} onChangeText={(e)=>{setMonthlyIncome(e)}} placeholder=\"Enter Monthy Income\" />\n            </View>\n            <View style={styles.view2}>\n                <TextInput value={MonthlyRation} onChangeText={(e)=>{setMonthlyRation(e)}} style={styles.input} placeholder=\"Enter Monthy ration\" />\n            </View>\n            <View style={styles.comp1}>\n                <ImagePickerExample />\n            </View>\n            <View style={styles.comp2}>\n                <CnicPick1 />\n            </View>\n            <View style={styles.comp3}>\n                <CnicPick2 />\n            </View> \n          <View style={styles.parentBtn}>\n        \n        \n                    <View style={styles.btnDiv1} >\n    <TouchableOpacity style={styles.touchBtn} onPress={setLocationFunc}><Text style={{color:'white'}}>Set Location</Text></TouchableOpacity>\n    </View>\n     \n                \n                        \n           \n        \n    <View style={styles.btnDiv2}>\n    <TouchableOpacity style={styles.touchBtn} onPress={submitFormFunc}><Text style={{color:'white'}}>Submit</Text></TouchableOpacity>\n    </View>\n          </View>\n    </View>\n        </ScrollView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    view3 : {\n        backgroundColor :'#ffffff',\n        paddingTop:10,\n        paddingLeft:62.2,\n        paddingRight:62.2,\n    },\n    view2 : {\n        backgroundColor :'#ffffff',\n    },\n    view1 : {\n        backgroundColor :'#ffffff'\n    },\n    view4 : {\n        backgroundColor :'#ffffff'\n    },\n    input : {\n        width:250,\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        borderColor : 'rgb(195, 195, 195)',\n        padding: 10,\n        borderRadius : 5,\n\n    },\n\n    img: {\n        width:150,\n        height:100,\n    },\n\n    container : {\n        width:\"100%\",\n        height:\"100%\",\n        flex:1,\n        justifyContent : 'center',\n        alignItems:'center',\n        // backgroundColor:'#dedfe0',\n        // paddingBottom:100\n    },\n    btnDiv1 : {\n        padding: 10,\n        position : 'relative',\n        bottom : 50,\n        left : 90,\n        backgroundColor : 'green',\n    },\n    btnDiv2 : {\n        padding: 10,\n        position : 'relative',\n        bottom : 30,\n        left : 90,\n        backgroundColor : 'green',\n    },\n    comp1: {\n        position : 'relative',\n        right : 80 ,\n        top: 115\n    },\n    comp2: {\n        position : 'relative',\n        right : 91,\n        top:40\n        // top:30\n    },    \n    comp3: {\n        position : 'relative',\n        right : 95,\n        bottom : 35\n    },\n    touchBtn : {\n\n        color:'white'\n    },\n\n\n})\n\nexport default MainHome;\n"]},"metadata":{},"sourceType":"module"}